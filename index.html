<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MK Group | Titan Monster Portal</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;900&family=Poppins:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">

    <style>
        /* :::::::::: THEME ENGINE :::::::::: */
        :root {
            --primary: #0A192F;
            --accent: #FF9800;
            --header-bg: #050C16;
            --page-bg: #F1F5F9;
            --card-bg: #FFFFFF;
            --text-main: #1E293B;
            --text-muted: #64748B;
            --header-h: 175px;
            --radius-lg: 24px;
            --radius-sm: 12px;
            --transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body.dark-mode {
            --primary: #111111;
            --accent: #00E5FF;
            --header-bg: #000000;
            --page-bg: #0A0A0A;
            --card-bg: #1A1A1A;
            --text-main: #F8FAFC;
            --text-muted: #94A3B8;
        }

        /* :::::::::: RESET & GLOBAL :::::::::: */
        * { margin: 0; padding: 0; box-sizing: border-box; outline: none; -webkit-tap-highlight-color: transparent; }
        
        body { 
            background: var(--page-bg); 
            color: var(--text-main); 
            font-family: 'Poppins', sans-serif;
            padding-top: calc(var(--header-h) + 20px);
            line-height: 1.6;
            overflow-x: hidden;
            transition: var(--transition);
        }

        /* :::::::::: PROFESSIONAL HEADER :::::::::: */
        header {
            position: fixed; top: 0; left: 0; width: 100%; height: var(--header-h);
            background: var(--header-bg); z-index: 9999;
            display: flex; flex-direction: column;
            border-bottom: 5px solid var(--accent);
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
        }

        .brand-container {
            flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center;
            background: linear-gradient(135deg, rgba(17,34,64,1) 0%, rgba(5,12,22,1) 100%);
        }

        .brand-container h1 {
            font-family: 'Montserrat'; font-size: clamp(16px, 5.8vw, 26px);
            color: #FFFFFF; text-transform: uppercase; font-weight: 900; letter-spacing: 1px;
        }
        .brand-container h1 span { color: var(--accent); text-shadow: 0 0 15px rgba(255,152,0,0.3); }

        /* :::::::::: 8-BUTTON NAV ENGINE :::::::::: */
        nav.main-nav {
            height: 90px; display: grid;
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(2, 1fr);
            background: var(--primary);
            border-top: 1px solid rgba(255,255,255,0.05);
        }

        .nav-item {
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            color: #94A3B8; border: none; background: none; cursor: pointer;
            transition: var(--transition); position: relative;
        }

        .nav-item i { font-size: 18px; margin-bottom: 3px; color: var(--accent); transition: 0.3s; }
        .nav-item span { font-size: 8px; font-weight: 800; text-transform: uppercase; letter-spacing: 0.5px; }

        .nav-item.active { background: var(--accent); color: var(--primary); }
        .nav-item.active i { color: var(--primary); transform: translateY(-2px); }
        .nav-item.active::after { content: ''; position: absolute; bottom: 0; width: 20px; height: 3px; background: var(--primary); border-radius: 10px; }

        /* :::::::::: CONTENT WRAPPER :::::::::: */
        .master-container { padding: 10px 20px 120px; max-width: 650px; margin: 0 auto; }
        
        .view-section { display: none; animation: titanFadeIn 0.6s ease; }
        .view-section.active { display: block; }

        @keyframes titanFadeIn {
            from { opacity: 0; transform: translateY(40px) scale(0.98); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }

        /* :::::::::: ADVANCED UI CARDS :::::::::: */
        .mk-card {
            background: var(--card-bg);
            border-radius: var(--radius-lg);
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.08);
            border: 1px solid rgba(226,232,240, 0.1);
            position: relative; overflow: hidden;
            transition: var(--transition);
        }

        .mk-card:hover { transform: translateY(-5px); box-shadow: 0 20px 45px rgba(0,0,0,0.12); }

        .mk-card::before {
            content: ''; position: absolute; top: 0; left: 0; width: 6px; height: 100%;
            background: var(--accent); opacity: 0.8;
        }

        .card-header {
            display: flex; align-items: center; gap: 15px; margin-bottom: 20px;
            padding-bottom: 12px; border-bottom: 2px solid var(--page-bg);
        }
        .card-header i { color: var(--accent); font-size: 22px; }
        .card-header h3 { font-size: 16px; font-weight: 900; color: var(--primary); text-transform: uppercase; letter-spacing: 1px; }

        /* :::::::::: 1. HOME VIEW :::::::::: */
        .hero-banner {
            width: 100%; height: 250px; border-radius: var(--radius-lg);
            background: linear-gradient(rgba(10,25,47,0.7), rgba(10,25,47,0.7)), 
                        url('https://images.unsplash.com/photo-1524178232363-1fb2b075b655?auto=format&fit=crop&w=800');
            background-size: cover; background-position: center;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            color: #FFFFFF; text-align: center; border: 4px solid var(--accent);
            margin-bottom: 30px; position: relative;
        }
        .hero-banner h2 { font-family: 'Montserrat'; font-size: 28px; line-height: 1.1; margin-bottom: 10px; }
        .hero-tag { background: var(--accent); color: var(--primary); padding: 5px 15px; font-size: 10px; font-weight: 900; border-radius: 50px; text-transform: uppercase; }

        .quick-actions { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 30px; }
        .action-card {
            background: var(--primary); color: #FFF; padding: 25px 15px; border-radius: var(--radius-sm);
            text-align: center; border-bottom: 5px solid var(--accent); transition: 0.3s;
        }
        .action-card i { font-size: 24px; color: var(--accent); margin-bottom: 10px; }
        .action-card p { font-size: 11px; font-weight: 800; text-transform: uppercase; }

        /* :::::::::: 2. APPLY VIEW :::::::::: */
        .form-group { margin-bottom: 20px; }
        .form-label { font-size: 11px; font-weight: 800; color: var(--text-muted); text-transform: uppercase; margin-bottom: 8px; display: block; }
        .form-input {
            width: 100%; padding: 18px; background: var(--page-bg); border: 2px solid #E2E8F0;
            border-radius: 16px; font-size: 14px; font-weight: 600; color: var(--text-main);
            transition: 0.3s;
        }
        .form-input:focus { border-color: var(--accent); background: var(--card-bg); box-shadow: 0 0 15px rgba(255,152,0,0.1); }
        
        .btn-submit {
            width: 100%; padding: 20px; background: var(--primary); color: #FFFFFF;
            border: none; border-radius: 16px; font-weight: 900; font-size: 14px;
            text-transform: uppercase; cursor: pointer; letter-spacing: 1px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2); transition: 0.3s;
        }
        .btn-submit:active { transform: scale(0.95); }

        /* :::::::::: 3. ACADEMICS (3X CONTENT) :::::::::: */
        .fee-row { display: flex; justify-content: space-between; align-items: center; padding: 18px 0; border-bottom: 1px solid var(--page-bg); }
        .fee-row span { font-weight: 700; color: var(--text-main); }
        .fee-row b { color: var(--accent); font-size: 16px; }

        .syllabus-grid { display: grid; grid-template-columns: 1fr; gap: 10px; margin-top: 15px; }
        .syllabus-item { background: var(--page-bg); padding: 15px; border-radius: 12px; border-left: 4px solid var(--primary); }
        .syllabus-item h4 { font-size: 13px; font-weight: 900; margin-bottom: 5px; }
        .syllabus-item p { font-size: 11px; color: var(--text-muted); }

        /* :::::::::: 4. CAMPUS (3X CONTENT) :::::::::: */
        .gallery-3x { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; }
        .gallery-3x img { width: 100%; height: 130px; border-radius: 15px; object-fit: cover; border: 2px solid #FFF; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        
        .feature-list { list-style: none; margin-top: 15px; }
        .feature-list li { padding: 10px 0; font-size: 12px; font-weight: 600; display: flex; align-items: center; gap: 10px; }
        .feature-list li i { color: #22C55E; }

        /* :::::::::: 5. PORTAL :::::::::: */
        .stat-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px; }
        .stat-pill { padding: 20px; border-radius: 20px; text-align: center; }
        .stat-pill.paid { background: #DCFCE7; color: #166534; }
        .stat-pill.due { background: #FEE2E2; color: #991B1B; }
        .stat-pill b { font-size: 18px; display: block; }

        /* :::::::::: 6. INFO (NOTICE + ADDRESS + CHROME) :::::::::: */
        #notices_engine { max-height: 400px; overflow-y: auto; }
        .notice-card-3x { padding: 20px; border-bottom: 1px solid var(--page-bg); position: relative; }
        .notice-date { background: var(--accent); color: var(--primary); font-size: 9px; font-weight: 900; padding: 3px 10px; border-radius: 4px; position: absolute; top: 15px; right: 15px; }
        .notice-msg { font-size: 13px; font-weight: 600; color: var(--text-main); margin-top: 10px; }

        .chrome-installer {
            background: var(--primary); color: #FFF; padding: 40px 25px; border-radius: var(--radius-lg);
            text-align: center; border: 3px dashed var(--accent); margin-top: 30px;
        }
        .chrome-installer i { font-size: 50px; color: #FFF; margin-bottom: 15px; }
        .dl-button { background: var(--accent); color: var(--primary); padding: 18px 40px; border-radius: 50px; font-weight: 900; text-decoration: none; display: inline-block; margin-top: 20px; transition: 0.3s; }

        /* :::::::::: 7. CALL :::::::::: */
        .call-card-3x { text-align: center; padding: 50px 20px; }
        .call-card-3x h1 { font-size: 42px; font-family: 'Montserrat'; color: var(--primary); margin: 20px 0; }
        .status-dot { display: inline-block; width: 10px; height: 10px; background: #22C55E; border-radius: 50%; margin-right: 5px; animation: pulse 1.5s infinite; }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.4; } 100% { opacity: 1; } }

        /* :::::::::: 8. ADMIN :::::::::: */
        .admin-console { display: none; }
        .admin-nav { display: flex; gap: 10px; margin-bottom: 20px; overflow-x: auto; padding-bottom: 10px; }
        .adm-tab { padding: 10px 20px; background: #E2E8F0; border-radius: 50px; font-size: 11px; font-weight: 800; white-space: nowrap; border: none; cursor: pointer; }
        .adm-tab.active { background: var(--primary); color: #FFF; }

        /* :::::::::: FOOTER & WA :::::::::: */
        footer { text-align: center; padding: 60px 20px; background: var(--header-bg); color: #64748B; font-size: 11px; }
        .whatsapp-fixed { position: fixed; bottom: 30px; right: 25px; width: 65px; height: 65px; background: #25D366; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #FFF; font-size: 32px; z-index: 999; box-shadow: 0 10px 30px rgba(37,211,102,0.4); text-decoration: none; }
    </style>
</head>
<body id="titanBody">

<header>
    <div class="brand-container">
        <h1>MK <span>GROUP OF INSTITUTIONS</span></h1>
    </div>
    <nav class="main-nav">
        <button class="nav-item active" onclick="tab('home', this)"><i class="fa fa-home"></i><span>Home</span></button>
        <button class="nav-item" onclick="tab('apply', this)"><i class="fa fa-user-plus"></i><span>Apply</span></button>
        <button class="nav-item" onclick="tab('academy', this)"><i class="fa fa-book-open"></i><span>Academics</span></button>
        <button class="nav-item" onclick="tab('campus', this)"><i class="fa fa-university"></i><span>Campus</span></button>
        <button class="nav-item" onclick="tab('portal', this)"><i class="fa fa-id-badge"></i><span>Portal</span></button>
        <button class="nav-item" onclick="tab('info', this)"><i class="fa fa-bullhorn"></i><span>Info</span></button>
        <button class="nav-item" onclick="tab('call', this)"><i class="fa fa-headset"></i><span>Call</span></button>
        <button class="nav-item" onclick="tab('admin', this)"><i class="fa fa-shield-halved"></i><span>Admin</span></button>
    </nav>
</header>

<main class="master-container">

    <section id="home" class="view-section active">
        <div class="hero-banner">
            <h2>BUILDING NATION'S<br>FUTURE BRAVES</h2>
            <div class="hero-tag">Best Sainik School Prep 2026</div>
        </div>

        <div class="quick-actions">
            <div class="action-card"><i class="fa fa-clock"></i><p>Classes: 8AM-4PM</p></div>
            <div class="action-card"><i class="fa fa-bus"></i><p>Transport Available</p></div>
            <div class="action-card"><i class="fa fa-utensils"></i><p>Nutritious Mess</p></div>
            <div class="action-card"><i class="fa fa-shield"></i><p>24/7 Security</p></div>
        </div>

        <div class="mk-card">
            <div class="card-header"><i class="fa fa-star"></i><h3>Our Legacy</h3></div>
            <p style="font-size: 13px; color: var(--text-muted);">Founded with a vision to provide top-tier coaching for defense entrance exams. Our 95% success rate in Sainik Schools and RMS makes us the pride of Jhajjar. We focus on physical fitness, mental toughness, and academic excellence.</p>
        </div>

        <div class="mk-card">
            <div class="card-header"><i class="fa fa-trophy"></i><h3>Latest Achievements</h3></div>
            <div class="syllabus-item">
                <h4>250+ Selections in 2025</h4>
                <p>Record breaking admissions in Sainik School Rewari & Kunjpura.</p>
            </div>
        </div>
    </section>

    <section id="apply" class="view-section">
        <div class="mk-card">
            <div class="card-header"><i class="fa fa-user-edit"></i><h3>New Admission Form</h3></div>
            <div class="form-group"><label class="form-label">Full Name of Cadet</label><input type="text" class="form-input" placeholder="Enter name"></div>
            <div class="form-group"><label class="form-label">Applying for Class</label><input type="text" class="form-input" placeholder="e.g. 6th or 9th"></div>
            <div class="form-group"><label class="form-label">Parent's WhatsApp</label><input type="number" class="form-input" placeholder="Active mobile number"></div>
            <div class="form-group"><label class="form-label">Previous School Name</label><input type="text" class="form-input" placeholder="Enter school name"></div>
            <button class="btn-submit" onclick="alert('Inquiry Recorded Successfully!')">Submit Application</button>
        </div>
    </section>

    <section id="academy" class="view-section">
        <div class="mk-card">
            <div class="card-header"><i class="fa fa-indian-rupee-sign"></i><h3>Full Fee Structure</h3></div>
            <div class="fee-row"><span>Primary (1st-5th)</span><b>₹1,40,000/yr</b></div>
            <div class="fee-row"><span>Middle (6th-8th)</span><b>₹1,55,000/yr</b></div>
            <div class="fee-row"><span>Senior (9th-12th)</span><b>₹1,75,000/yr</b></div>
            <p style="font-size: 10px; color: var(--text-muted); margin-top: 15px;">*Inclusive of Tuition, Hostel, Books, and Laundry.</p>
        </div>

        <div class="mk-card">
            <div class="card-header"><i class="fa fa-graduation-cap"></i><h3>Class-wise Syllabus</h3></div>
            <div class="syllabus-grid">
                <div class="syllabus-item"><h4>Class 6th Entrance</h4><p>Focus on Mathematics, Intelligence, English, and General Knowledge as per Sainik School Pattern.</p></div>
                <div class="syllabus-item"><h4>Class 9th Entrance</h4><p>Advanced Math, Science, Social Studies, and English Grammar. Focus on RIMC & RMS standards.</p></div>
            </div>
        </div>

        <div class="mk-card">
            <div class="card-header"><i class="fa fa-calendar-check"></i><h3>Daily Routine</h3></div>
            <p style="font-size: 12px; font-weight: 600;">05:00 AM - PT & Exercises<br>08:00 AM - Academic Classes<br>02:00 PM - Remedial Classes<br>05:00 PM - Sports & Games</p>
        </div>
    </section>

    <section id="campus" class="view-section">
        <div class="mk-card">
            <div class="card-header"><i class="fa fa-images"></i><h3>Campus Live Gallery</h3></div>
            <div id="live_gallery_3x" class="gallery-3x">
                <img src="https://images.unsplash.com/photo-1541339907198-e08759dfc3ef?auto=format&fit=crop&w=400">
                <img src="https://images.unsplash.com/photo-1523050853063-8805af9e59a5?auto=format&fit=crop&w=400">
            </div>
        </div>

        <div class="mk-card">
            <div class="card-header"><i class="fa fa-hotel"></i><h3>Residential Facilities</h3></div>
            <ul class="feature-list">
                <li><i class="fa fa-check-circle"></i> Air-Conditioned Dormitories</li>
                <li><i class="fa fa-check-circle"></i> RO Water Purification System</li>
                <li><i class="fa fa-check-circle"></i> 24/7 CCTV Surveillance</li>
                <li><i class="fa fa-check-circle"></i> Dedicated Warden for every 20 students</li>
            </ul>
        </div>
    </section>

    <section id="portal" class="view-section">
        <div class="mk-card" id="login_gate_3x">
            <div class="card-header"><i class="fa fa-lock-open"></i><h3>Cadet Login Area</h3></div>
            <div class="form-group"><label class="form-label">Official Name</label><input id="p_name" class="form-input" placeholder="As per records"></div>
            <div class="form-group"><label class="form-label">Admission ID</label><input id="p_id" class="form-input" placeholder="MK-2026-XXX"></div>
            <button class="btn-submit" onclick="portalLogic()">Access My Dashboard</button>
        </div>
        <div id="portal_dashboard" style="display:none;"></div>
    </section>

    <section id="info" class="view-section">
        <div class="mk-card" style="padding:0; overflow:hidden;">
            <div style="background:var(--primary); color:#FFF; padding:20px; text-align:center; font-weight:900;">OFFICIAL BROADCASTS</div>
            <div id="notices_engine"></div>
        </div>

        <div class="mk-card">
            <div class="card-header"><i class="fa fa-location-arrow"></i><h3>Find Us On Map</h3></div>
            <h2 style="font-size:18px; color:var(--primary); line-height:1.4;">As khrab college kasni jhajjar haryana</h2>
            <p style="color:var(--text-muted); font-size:12px; margin-top:5px;">Pin: 124103 | Dist: Jhajjar, Haryana</p>
        </div>

        <div class="chrome-installer">
            <i class="fab fa-chrome"></i>
            <h3>MK Portal Web-App</h3>
            <p style="font-size:11px; opacity:0.8; margin-top:10px;">Install our optimized portal directly via Chrome for lightning fast fee updates and notice alerts.</p>
            <a href="#" class="dl-button">INSTALL FOR CHROME</a>
        </div>
    </section>

    <section id="call" class="view-section">
        <div class="mk-card call-card-3x">
            <i class="fa fa-phone-volume" style="font-size:60px; color:var(--accent);"></i>
            <h1>8810285636</h1>
            <p style="font-weight:900; color:var(--text-muted);"><span class="status-dot"></span> SYSTEMS ONLINE - OPERATORS BUSY</p>
            <div style="margin:30px 0;">
                <a href="tel:8810285636" class="btn-submit" style="text-decoration:none; display:inline-block;">Voice Call Now</a>
            </div>
            <p style="font-size:11px; color:#94A3B8;">Support Timing: 09:00 AM to 06:00 PM (IST)</p>
        </div>
    </section>

    <section id="admin" class="view-section">
        <div class="mk-card" id="admin_gate_3x">
            <div class="card-header"><i class="fa fa-user-shield"></i><h3>Restricted Staff Access</h3></div>
            <input type="password" id="admin_pin" class="form-input" placeholder="ENTER 10-DIGIT KEY" style="text-align:center; font-size:22px; letter-spacing:8px;">
            <button class="btn-submit" style="margin-top:20px;" onclick="adminLogin()">Unlock Console</button>
        </div>

        <div id="admin_console_3x" class="admin-console">
            <div class="admin-nav">
                <button class="adm-tab active" onclick="admSub('t_theme')">Themes</button>
                <button class="adm-tab" onclick="admSub('t_student')">Students</button>
                <button class="adm-tab" onclick="admSub('t_notice')">Notices</button>
                <button class="adm-tab" onclick="admSub('t_photo')">Gallery</button>
            </div>

            <div id="t_theme" class="adm-panel">
                <div class="mk-card"><h4>Personalize UI</h4>
                    <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-top:15px;">
                        <button class="btn-submit" onclick="setTheme('navy')">Navy Blue</button>
                        <button class="btn-submit" style="background:#222;" onclick="setTheme('dark')">Dark Mode</button>
                    </div>
                </div>
            </div>

            <div id="t_student" class="adm-panel" style="display:none;">
                <div class="mk-card"><h4>Register New Cadet</h4>
                    <input id="s_name" class="form-input" placeholder="Full Name">
                    <input id="s_id" class="form-input" placeholder="ID Number">
                    <input id="s_paid" class="form-input" placeholder="Paid Amount">
                    <input id="s_total" class="form-input" placeholder="Total Fees">
                    <button class="btn-submit" onclick="saveStudent()">Secure Save</button>
                </div>
            </div>

            <div id="t_notice" class="adm-panel" style="display:none;">
                <div class="mk-card"><h4>Publish New Notice</h4>
                    <textarea id="n_msg" class="form-input" style="height:100px;"></textarea>
                    <button class="btn-submit" onclick="saveNotice()">Broadcast to Info</button>
                </div>
            </div>

            <div id="t_photo" class="adm-panel" style="display:none;">
                <div class="mk-card"><h4>Update Gallery</h4>
                    <input id="g_url" class="form-input" placeholder="Image Direct Link (URL)">
                    <button class="btn-submit" onclick="savePhoto()">Add to Campus</button>
                </div>
            </div>
            
            <button class="btn-submit" style="background:#EF4444; margin-top:20px;" onclick="localStorage.clear(); location.reload();">TOTAL SYSTEM WIPE</button>
        </div>
    </section>

    <footer>
        <div style="font-size:18px; font-weight:900; color:var(--accent); margin-bottom:10px;">MK GROUP</div>
        © 2026 MK Group of Institutions | All Rights Reserved.<br>
        <span style="opacity:0.4; letter-spacing:5px;">V150.0 TITAN BEAST EDITION</span>
    </footer>

</main>

<a href="https://wa.me/918810285636" class="whatsapp-fixed"><i class="fab fa-whatsapp"></i></a>

<script>
    /* :::::::::: TITAN CORE ENGINE :::::::::: */
    const PIN = "Mkclasses@1303";
    let DB_STU = JSON.parse(localStorage.getItem('MK_STU_3X')) || [];
    let DB_NOT = JSON.parse(localStorage.getItem('MK_NOT_3X')) || [];
    let DB_GAL = JSON.parse(localStorage.getItem('MK_GAL_3X')) || [];
    let THEME = localStorage.getItem('MK_THEME_3X') || 'navy';

    window.onload = () => {
        renderNotices();
        renderGallery();
        if(THEME === 'dark') document.getElementById('titanBody').classList.add('dark-mode');
    };

    function tab(id, btn) {
        document.querySelectorAll('.view-section').forEach(v => v.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        btn.classList.add('active');
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function setTheme(mode) {
        if(mode === 'dark') document.getElementById('titanBody').classList.add('dark-mode');
        else document.getElementById('titanBody').classList.remove('dark-mode');
        localStorage.setItem('MK_THEME_3X', mode);
        alert("UI Theme Applied!");
    }

    function adminLogin() {
        if(document.getElementById('admin_pin').value === PIN) {
            document.getElementById('admin_gate_3x').style.display = 'none';
            document.getElementById('admin_console_3x').style.display = 'block';
        } else alert("INVALID SECURITY PIN!");
    }

    function admSub(id) {
        document.querySelectorAll('.adm-panel').forEach(p => p.style.display = 'none');
        document.getElementById(id).style.display = 'block';
        document.querySelectorAll('.adm-tab').forEach(t => t.classList.remove('active'));
        event.target.classList.add('active');
    }

    function saveStudent() {
        let n = document.getElementById('s_name').value, i = document.getElementById('s_id').value.toUpperCase(),
            p = parseInt(document.getElementById('s_paid').value) || 0, t = parseInt(document.getElementById('s_total').value) || 0;
        if(!n || !i) return alert("Fields Required!");
        DB_STU.push({n, i, p, t});
        localStorage.setItem('MK_STU_3X', JSON.stringify(DB_STU));
        alert("Cadet Database Synchronized!");
    }

    function saveNotice() {
        let m = document.getElementById('n_msg').value;
        if(!m) return;
        DB_NOT.unshift({m, d: new Date().toLocaleDateString()});
        localStorage.setItem('MK_NOT_3X', JSON.stringify(DB_NOT));
        renderNotices();
        alert("Notice Broadcasted!");
    }

    function renderNotices() {
        const wall = document.getElementById('notices_engine');
        if(DB_NOT.length === 0) { wall.innerHTML = '<p style="padding:40px; text-align:center; color:#999;">No Active Broadcasts</p>'; return; }
        wall.innerHTML = DB_NOT.map(n => `
            <div class="notice-card-3x">
                <span class="notice-date">${n.d}</span>
                <p class="notice-msg">${n.m}</p>
            </div>
        `).join('');
    }

    function savePhoto() {
        let u = document.getElementById('g_url').value;
        if(!u) return;
        DB_GAL.push(u);
        localStorage.setItem('MK_GAL_3X', JSON.stringify(DB_GAL));
        renderGallery();
        alert("Gallery Updated!");
    }

    function renderGallery() {
        const box = document.getElementById('live_gallery_3x');
        let h = `<img src="https://images.unsplash.com/photo-1541339907198-e08759dfc3ef?auto=format&fit=crop&w=400"><img src="https://images.unsplash.com/photo-1523050853063-8805af9e59a5?auto=format&fit=crop&w=400">`;
        DB_GAL.forEach(url => h += `<img src="${url}">`);
        box.innerHTML = h;
    }

    function portalLogic() {
        let n = document.getElementById('p_name').value.toLowerCase(), i = document.getElementById('p_id').value.toUpperCase();
        let s = DB_STU.find(x => x.n.toLowerCase() === n && x.i === i);
        if(s) {
            document.getElementById('login_gate_3x').style.display = 'none';
            let d = document.getElementById('portal_dashboard'); d.style.display = 'block';
            d.innerHTML = `
                <div class="mk-card" style="text-align:center; border:2px solid var(--accent);">
                    <h3 style="font-size:22px;">${s.n}</h3>
                    <p style="font-size:11px; margin-bottom:20px;">CADET ID: ${s.i}</p>
                    <div class="stat-grid">
                        <div class="stat-pill paid"><span>FEES PAID</span><b>₹${s.p}</b></div>
                        <div class="stat-pill due"><span>FEES DUE</span><b>₹${s.t-s.p}</b></div>
                    </div>
                    <button class="btn-submit" style="margin-top:25px; background:var(--page-bg); color:#000;" onclick="location.reload()">SECURE LOGOUT</button>
                </div>
            `;
        } else alert("RECORD NOT FOUND! Contact Admin.");
    }
</script>

</body>
</html>
