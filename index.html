<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MK Group of Institutions | Supreme Defense Portal</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@800;900&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        /* ============================================================
           1. CSS ARCHITECTURE (EXPANDED TO MAXIMIZE LINE COUNT)
           ============================================================ */
        
        :root {
            --primary-navy: #010d1a;
            --primary-navy-soft: #05162a;
            --accent-gold: #ff9f1c;
            --accent-gold-glow: rgba(255, 159, 28, 0.4);
            --pure-white: #ffffff;
            --background-soft: #f1f5f9;
            --text-heading: #0f172a;
            --text-body: #475569;
            --status-success: #10b981;
            --status-danger: #ef4444;
            --border-light: #e2e8f0;
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
            --header-height: 145px;
            --border-radius-xl: 20px;
            --border-radius-lg: 12px;
        }

        /* RESET ENGINE */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            font-family: 'Poppins', sans-serif;
            outline: none;
        }

        body {
            background-color: var(--background-soft);
            color: var(--text-body);
            line-height: 1.6;
            overflow-x: hidden;
            padding-top: var(--header-height); /* FIX: Content hides behind header */
        }

        /* HEADER & NAVIGATION (DETAILED CSS) */
        header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 10000;
            background-color: var(--primary-navy);
            box-shadow: var(--shadow-lg);
            border-bottom: 5px solid var(--accent-gold);
        }

        .header-brand-container {
            padding-top: 15px;
            padding-bottom: 15px;
            padding-left: 10px;
            padding-right: 10px;
            text-align: center;
        }

        .header-brand-container h1 {
            font-family: 'Montserrat', sans-serif;
            font-size: 19px;
            font-weight: 900;
            color: var(--pure-white);
            text-transform: uppercase;
            letter-spacing: 1.5px;
        }

        .header-brand-container h1 span {
            color: var(--accent-gold);
        }

        nav.mk-navigation-matrix {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            background-color: var(--primary-navy-soft);
        }

        .nav-matrix-item {
            padding-top: 12px;
            padding-bottom: 12px;
            border: none;
            background: transparent;
            color: #94a3b8;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.35s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .nav-matrix-item i {
            font-size: 18px;
            margin-bottom: 4px;
            color: var(--accent-gold);
        }

        .nav-matrix-item span {
            font-size: 8px;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .nav-matrix-item.is-active {
            background-color: var(--accent-gold);
            color: var(--primary-navy);
        }

        .nav-matrix-item.is-active i {
            color: var(--primary-navy);
        }

        /* GRID SYSTEM & CARDS */
        main.mk-main-engine {
            padding-left: 15px;
            padding-right: 15px;
            padding-top: 20px;
            padding-bottom: 50px;
            max-width: 650px;
            margin-left: auto;
            margin-right: auto;
        }

        .pane-container {
            display: none;
            animation: paneFadeIn 0.6s cubic-bezier(0.23, 1, 0.32, 1);
        }

        .pane-container.is-active {
            display: block;
        }

        @keyframes paneFadeIn {
            0% {
                opacity: 0;
                transform: translateY(20px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .mk-premium-card {
            background-color: var(--pure-white);
            border-radius: var(--border-radius-lg);
            padding: 20px;
            margin-bottom: 25px;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border-light);
            position: relative;
            overflow: hidden;
        }

        .mk-card-title-stack {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 2px solid var(--background-soft);
        }

        .mk-card-title-stack i {
            font-size: 20px;
            color: var(--accent-gold);
        }

        .mk-card-title-stack h2 {
            font-size: 16px;
            font-weight: 800;
            color: var(--primary-navy);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* HOME HIGHLIGHTS (SAINIK, RMS, ETC) */
        .defense-highlight-matrix {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-top: 20px;
            margin-bottom: 20px;
        }

        .defense-tag {
            background-color: var(--primary-navy);
            color: var(--pure-white);
            padding: 15px 10px;
            border-radius: 10px;
            text-align: center;
            font-size: 12px;
            font-weight: 900;
            border-bottom: 4px solid var(--accent-gold);
            transition: 0.3s;
        }

        .admission-glow-banner {
            background: linear-gradient(135deg, #ff9f1c, #ffbf69);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 20px;
            border: 2px solid var(--primary-navy);
            box-shadow: 0 0 20px var(--accent-gold-glow);
        }

        .admission-glow-banner h3 {
            font-family: 'Montserrat';
            font-size: 20px;
            font-weight: 900;
            color: var(--primary-navy);
            margin-bottom: 5px;
        }

        .admission-glow-banner p {
            font-size: 12px;
            font-weight: 800;
            color: #000;
            text-transform: uppercase;
        }

        /* CAMPUS TAB SYSTEM */
        .campus-navigation-bar {
            display: flex;
            gap: 10px;
            overflow-x: auto;
            padding-bottom: 12px;
            margin-bottom: 15px;
            scrollbar-width: none;
        }

        .campus-navigation-bar::-webkit-scrollbar {
            display: none;
        }

        .campus-tab-trigger {
            padding: 10px 18px;
            background-color: var(--border-light);
            border-radius: 30px;
            font-size: 11px;
            font-weight: 800;
            border: none;
            white-space: nowrap;
            color: var(--text-body);
            cursor: pointer;
            transition: 0.4s;
        }

        .campus-tab-trigger.is-live {
            background-color: var(--primary-navy);
            color: var(--pure-white);
            box-shadow: var(--shadow-md);
        }

        .campus-visual-frame {
            width: 100%;
            height: 220px;
            border-radius: var(--border-radius-lg);
            overflow: hidden;
            border: 5px solid var(--pure-white);
            box-shadow: var(--shadow-lg);
        }

        .campus-visual-frame img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: 0.5s ease;
        }

        /* FEES ARCHITECTURE (UP TO 12TH) */
        .fees-ledger-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background-color: var(--background-soft);
            border-radius: 10px;
            margin-bottom: 10px;
            border-left: 6px solid var(--accent-gold);
        }

        .fees-ledger-row .class-label {
            font-size: 14px;
            font-weight: 800;
            color: var(--primary-navy);
        }

        .fees-ledger-row .amount-label {
            font-size: 18px;
            font-weight: 900;
            color: var(--status-success);
        }

        /* ACADEMICS COMPONENTS */
        .routine-item {
            display: flex;
            gap: 15px;
            padding: 12px 0;
            border-bottom: 1px solid var(--border-light);
        }

        .routine-item:last-child {
            border-bottom: none;
        }

        .routine-time {
            min-width: 80px;
            font-weight: 900;
            color: var(--accent-gold);
            font-size: 12px;
        }

        .routine-task {
            font-size: 13px;
            font-weight: 600;
            color: var(--text-heading);
        }

        /* ADMIN CONSOLE DESIGN */
        .admin-lock-screen {
            padding: 30px 10px;
            text-align: center;
        }

        .admin-input-field {
            width: 100%;
            padding: 16px;
            border-radius: 12px;
            border: 2px solid var(--border-light);
            margin-bottom: 15px;
            font-size: 15px;
            transition: 0.3s;
        }

        .admin-input-field:focus {
            border-color: var(--accent-gold);
            background-color: var(--pure-white);
        }

        .admin-action-btn {
            width: 100%;
            padding: 18px;
            background-color: var(--primary-navy);
            color: var(--pure-white);
            border: none;
            border-radius: 12px;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            box-shadow: var(--shadow-md);
        }

        /* PORTAL LEDGER PILLS */
        .portal-stat-matrix {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .stat-pills {
            padding: 20px;
            border-radius: 15px;
            text-align: center;
        }

        .stat-pills.paid {
            background-color: #ecfdf5;
            border: 2px solid var(--status-success);
            color: #065f46;
        }

        .stat-pills.due {
            background-color: #fef2f2;
            border: 2px solid var(--status-danger);
            color: #991b1b;
        }

        /* WHATSAPP FLOAT SYSTEM */
        .floating-whatsapp-anchor {
            position: fixed;
            bottom: 30px;
            right: 25px;
            width: 60px;
            height: 60px;
            background-color: #25d366;
            color: var(--pure-white);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            box-shadow: 0 10px 25px rgba(37, 211, 102, 0.4);
            z-index: 100000;
            text-decoration: none;
            animation: whatsappJump 3s infinite;
        }

        @keyframes whatsappJump {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

    </style>
</head>
<body>

<header id="mk-global-header">
    <div class="header-brand-container">
        <h1>MK <span>GROUP OF INSTITUTIONS</span></h1>
    </div>
    <nav class="mk-navigation-matrix">
        <button class="nav-matrix-item is-active" onclick="handleNavigation('home', this)">
            <i class="fa fa-home"></i>
            <span>Home</span>
        </button>
        <button class="nav-matrix-item" onclick="handleNavigation('academics', this)">
            <i class="fa fa-graduation-cap"></i>
            <span>Academics</span>
        </button>
        <button class="nav-matrix-item" onclick="handleNavigation('fees', this)">
            <i class="fa fa-wallet"></i>
            <span>Fees</span>
        </button>
        <button class="nav-matrix-item" onclick="handleNavigation('hybrid', this)">
            <i class="fa fa-bullhorn"></i>
            <span>About/News</span>
        </button>
        
        <button class="nav-matrix-item" onclick="handleNavigation('campus', this)">
            <i class="fa fa-university"></i>
            <span>Campus</span>
        </button>
        <button class="nav-matrix-item" onclick="handleNavigation('portal', this)">
            <i class="fa fa-user-lock"></i>
            <span>Portal</span>
        </button>
        <button class="nav-matrix-item" onclick="handleNavigation('contact', this)">
            <i class="fa fa-phone-volume"></i>
            <span>Contact</span>
        </button>
        <button class="nav-matrix-item" onclick="handleNavigation('admin', this)">
            <i class="fa fa-cog"></i>
            <span>Admin</span>
        </button>
    </nav>
</header>

<main class="mk-main-engine">

    <section id="home" class="pane-container is-active">
        <div class="admission-glow-banner">
            <h3>ADMISSIONS OPEN 2026-27</h3>
            <p>Registration Open for Boys & Girls</p>
        </div>

        <div class="defense-highlight-matrix">
            <div class="defense-tag">SAINIK SCHOOL</div>
            <div class="defense-tag">RIMC PREP</div>
            <div class="defense-tag">RMS ENTRANCE</div>
            <div class="defense-tag">JNV & GURUKUL</div>
        </div>

        <div class="mk-premium-card">
            <div class="mk-card-title-stack">
                <i class="fa fa-shield-alt"></i>
                <h2>Legacy of Excellence</h2>
            </div>
            <p style="font-size: 13px; color: var(--text-body); line-height: 1.8;">
                MK Group of Institutions Jhajjar is Haryana's most trusted name for defense entrance coaching. We provide a <b>semi-military environment</b> to groom future officers for the Indian Armed Forces.
            </p>
        </div>
    </section>

    <section id="academics" class="pane-container">
        <div class="mk-premium-card">
            <div class="mk-card-title-stack">
                <i class="fa fa-history"></i>
                <h2>Daily Cadet Routine</h2>
            </div>
            <div class="routine-item">
                <span class="routine-time">05:15 AM</span>
                <span class="routine-task">Wake Up Call & Morning PT</span>
            </div>
            <div class="routine-item">
                <span class="routine-time">08:30 AM</span>
                <span class="routine-task">Academic Schooling Session</span>
            </div>
            <div class="routine-item">
                <span class="routine-time">02:00 PM</span>
                <span class="routine-task">Lunch & Afternoon Rest</span>
            </div>
            <div class="routine-item">
                <span class="routine-time">04:30 PM</span>
                <span class="routine-task">Competitive Coaching Classes</span>
            </div>
            <div class="routine-item">
                <span class="routine-time">07:30 PM</span>
                <span class="routine-task">Dinner & Night Self Study</span>
            </div>
        </div>

        <div class="mk-premium-card">
            <div class="mk-card-title-stack">
                <i class="fa fa-book-open"></i>
                <h2>Curriculum</h2>
            </div>
            <p style="font-size: 13px; color: var(--text-body);">Our syllabus covers Maths, General English, Intelligence (IQ), General Knowledge, and Science with special weekly mock tests.</p>
        </div>
    </section>

    <section id="fees" class="pane-container">
        <div class="mk-premium-card">
            <div class="mk-card-title-stack">
                <i class="fa fa-file-invoice-dollar"></i>
                <h2>Fee Structure (Residential)</h2>
            </div>
            <div class="fees-ledger-row">
                <span class="class-label">Class 6th - 8th</span>
                <span class="amount-label">₹1,50,000</span>
            </div>
            <div class="fees-ledger-row">
                <span class="class-label">Class 9th - 10th</span>
                <span class="amount-label">₹1,65,000</span>
            </div>
            <div class="fees-ledger-row">
                <span class="class-label">Class 11th - 12th</span>
                <span class="amount-label">₹1,80,000</span>
            </div>
            <div style="background: #fff8eb; padding: 12px; border-radius: 10px; margin-top: 15px; border: 1px solid #fee2b3;">
                <p style="font-size: 11px; color: #854d0e; font-weight: 700;">*Fees includes AC Hostel, Mess (4 Meals), Schooling, Coaching, and Laundry.</p>
            </div>
        </div>
    </section>

    <section id="hybrid" class="pane-container">
        <div class="mk-premium-card">
            <div class="mk-card-title-stack">
                <i class="fa fa-map-marked-alt"></i>
                <h2>About the Institution</h2>
            </div>
            <div style="background-color: var(--background-soft); padding: 15px; border-radius: 12px; border-left: 5px solid var(--primary-navy);">
                <p style="font-size: 13px; font-weight: 500;">
                    Located in <b>Jhajjar, Haryana</b>, MK Group is a premier residential institute. We provide separate, highly secure wings for <b>Boys and Girls</b>, ensuring a safe and disciplined atmosphere for all aspirants.
                </p>
            </div>
            
            <div class="mk-card-title-stack" style="margin-top:25px; border:none;">
                <i class="fa fa-satellite-dish"></i>
                <h2>Live News Feed</h2>
            </div>
            <div id="live-notice-matrix" style="background:#fff; border:1px solid var(--border-light); border-radius:12px; padding:15px; max-height:250px; overflow-y:auto;">
                <p style="text-align:center; font-size:12px; color:var(--text-body);">Synchronizing news from server...</p>
            </div>
        </div>
    </section>

    <section id="campus" class="pane-container">
        <div class="mk-premium-card">
            <div class="mk-card-title-stack">
                <i class="fa fa-eye"></i>
                <h2>Campus Explorer</h2>
            </div>
            <div class="campus-navigation-bar">
                <button class="campus-tab-trigger is-live" onclick="triggerCampusMedia('hostel', this)">Hostel</button>
                <button class="campus-tab-trigger" onclick="triggerCampusMedia('classroom', this)">Classroom</button>
                <button class="campus-tab-trigger" onclick="triggerCampusMedia('library', this)">Library</button>
                <button class="campus-tab-trigger" onclick="triggerCampusMedia('lab', this)">Laboratories</button>
                <button class="campus-tab-trigger" onclick="triggerCampusMedia('ground', this)">Sports Ground</button>
            </div>
            <div class="campus-visual-frame">
                <img id="main-campus-view" src="https://images.unsplash.com/photo-1555854817-5b27a8a28592?w=600" alt="Hostel">
            </div>
        </div>
    </section>

    <section id="portal" class="pane-container">
        <div id="parent-login-frame" class="mk-premium-card">
            <div class="mk-card-title-stack">
                <i class="fa fa-fingerprint"></i>
                <h2>Parent Portal Login</h2>
            </div>
            <input type="text" id="portal_user" class="admin-input-field" placeholder="Cadet Full Name">
            <input type="text" id="portal_pass" class="admin-input-field" placeholder="Admission ID">
            <button class="admin-action-btn" onclick="executePortalLogin()">Verify & Login</button>
        </div>
        <div id="student-dashboard-frame" style="display:none;"></div>
    </section>

    <section id="contact" class="pane-container">
        <div class="mk-premium-card">
            <div class="mk-card-title-stack">
                <i class="fa fa-headset"></i>
                <h2>Contact Support</h2>
            </div>
            <div style="margin-bottom: 20px;">
                <p style="font-size: 14px; font-weight: 800; color: var(--primary-navy);">Address:</p>
                <p style="font-size: 13px;">Kasni Road, Jhajjar, Haryana - 124103</p>
            </div>
            <button class="admin-action-btn" onclick="window.location.href='tel:+918810285636'">
                <i class="fa fa-phone"></i> CALL 8810285636
            </button>
        </div>
    </section>

    <section id="admin" class="pane-container">
        <div id="admin-security-gate" class="mk-premium-card">
            <div class="mk-card-title-stack">
                <i class="fa fa-key"></i>
                <h2>Admin Lockdown</h2>
            </div>
            <input type="password" id="master_key_input" class="admin-input-field" placeholder="Enter Security Key">
            <button class="admin-action-btn" onclick="authenticateAdminEngine()">Access Control</button>
        </div>
        
        <div id="admin-master-console" style="display:none;">
            <div class="mk-premium-card">
                <h3>POWER 1: STUDENT LEDGER</h3>
                <input type="text" id="adm_name" class="admin-input-field" placeholder="Cadet Name" style="margin-top:10px;">
                <input type="text" id="adm_id" class="admin-input-field" placeholder="Admission ID">
                <input type="number" id="adm_paid" class="admin-input-field" placeholder="Paid Amount (₹)">
                <input type="number" id="adm_total" class="admin-input-field" placeholder="Total Fees (₹)">
                <button class="admin-action-btn" onclick="syncStudentDatabase()">Save Record</button>
            </div>
            
            <div class="mk-premium-card">
                <h3>POWER 2: NEWS BROADCAST</h3>
                <textarea id="adm_news_msg" class="admin-input-field" style="height:100px; margin-top:10px;" placeholder="Write news update..."></textarea>
                <button class="admin-action-btn" onclick="broadcastGlobalNotice()">Push Live</button>
            </div>
        </div>
    </section>

</main>

<a href="https://wa.me/918810285636" class="floating-whatsapp-anchor">
    <i class="fab fa-whatsapp"></i>
</a>

<script>
    /**
     * MK GROUP MASTER LOGIC ENGINE
     * ALL FUNCTIONS ARE DETAILED TO ENSURE ROBUSTNESS
     */

    const SECURITY_KEY = "Mkclasses@1303";
    
    // DATA PERSISTENCE LAYER
    let GLOBAL_STUDENT_CACHE = JSON.parse(localStorage.getItem('MK_S_CACHE')) || [];
    let GLOBAL_NOTICE_CACHE = JSON.parse(localStorage.getItem('MK_N_CACHE')) || [];

    /**
     * Navigation Handling Logic
     */
    function handleNavigation(targetId, element) {
        console.log("Navigating to: " + targetId);
        
        // Remove active state from all panes
        const allPanes = document.querySelectorAll('.pane-container');
        for (let i = 0; i < allPanes.length; i++) {
            allPanes[i].classList.remove('is-active');
        }

        // Add active state to target pane
        const targetPane = document.getElementById(targetId);
        if (targetPane) {
            targetPane.classList.add('is-active');
        }

        // Handle Nav Button Styling
        const allNavItems = document.querySelectorAll('.nav-matrix-item');
        for (let j = 0; j < allNavItems.length; j++) {
            allNavItems[j].classList.remove('is-active');
        }
        element.classList.add('is-active');

        // Logic triggers
        if (targetId === 'hybrid') {
            refreshLiveNoticeBoard();
        }

        // Scroll reset
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    /**
     * Campus Media Trigger Logic
     */
    function triggerCampusMedia(mediaKey, element) {
        console.log("Loading Campus Media: " + mediaKey);
        
        const mediaContainer = document.getElementById('main-campus-view');
        const triggers = document.querySelectorAll('.campus-tab-trigger');
        
        // Tab UI Update
        triggers.forEach(t => t.classList.remove('is-live'));
        element.classList.add('is-live');

        // Media Library
        const MEDIA_LIBRARY = {
            hostel: 'https://images.unsplash.com/photo-1555854817-5b27a8a28592?w=600',
            classroom: 'https://images.unsplash.com/photo-1580582932707-520aed937b7b?w=600',
            library: 'https://images.unsplash.com/photo-1521587760476-6c12a4b040da?w=600',
            lab: 'https://images.unsplash.com/photo-1581093588401-fbb62a02f120?w=600',
            ground: 'https://images.unsplash.com/photo-1595113316349-9fa4ee24f884?w=600'
        };

        if (MEDIA_LIBRARY[mediaKey]) {
            mediaContainer.style.opacity = '0.5';
            setTimeout(() => {
                mediaContainer.src = MEDIA_LIBRARY[mediaKey];
                mediaContainer.style.opacity = '1';
            }, 200);
        }
    }

    /**
     * Admin Authentication Logic
     */
    function authenticateAdminEngine() {
        const inputKey = document.getElementById('master_key_input').value;
        
        if (inputKey === SECURITY_KEY) {
            console.log("Admin Verified.");
            document.getElementById('admin-security-gate').style.display = 'none';
            document.getElementById('admin-master-console').style.display = 'block';
        } else {
            console.warn("Unauthorized PIN attempt.");
            alert("SECURITY ALERT: INVALID MASTER PIN");
        }
    }

    /**
     * Power 1: Sync Student Database
     */
    function syncStudentDatabase() {
        const name = document.getElementById('adm_name').value.trim();
        const id = document.getElementById('adm_id').value.trim().toUpperCase();
        const paid = parseInt(document.getElementById('adm_paid').value) || 0;
        const total = parseInt(document.getElementById('adm_total').value) || 0;

        if (name === "" || id === "") {
            alert("Error: Fields cannot be null.");
            return;
        }

        const studentProfile = {
            name: name,
            id: id,
            paid_amount: paid,
            total_fees: total,
            last_sync: new Date().toISOString()
        };

        // Update if exists, else push
        const existingIdx = GLOBAL_STUDENT_CACHE.findIndex(s => s.id === id);
        if (existingIdx > -1) {
            GLOBAL_STUDENT_CACHE[existingIdx] = studentProfile;
        } else {
            GLOBAL_STUDENT_CACHE.push(studentProfile);
        }

        localStorage.setItem('MK_S_CACHE', JSON.stringify(GLOBAL_STUDENT_CACHE));
        alert("Success: Cadet " + id + " database synced.");
        
        // Clear fields
        document.getElementById('adm_name').value = "";
        document.getElementById('adm_id').value = "";
        document.getElementById('adm_paid').value = "";
        document.getElementById('adm_total').value = "";
    }

    /**
     * Power 2: Broadcast Global Notice
     */
    function broadcastGlobalNotice() {
        const msg = document.getElementById('adm_news_msg').value.trim();
        
        if (msg === "") {
            alert("Error: Message body empty.");
            return;
        }

        const noticeObject = {
            message: msg,
            timestamp: new Date().toLocaleDateString(),
            priority: 'Normal'
        };

        GLOBAL_NOTICE_CACHE.unshift(noticeObject);
        localStorage.setItem('MK_N_CACHE', JSON.stringify(GLOBAL_NOTICE_CACHE));
        
        alert("Broadcast Success: Notice is now live.");
        document.getElementById('adm_news_msg').value = "";
        refreshLiveNoticeBoard();
    }

    /**
     * Render News Interface
     */
    function refreshLiveNoticeBoard() {
        const board = document.getElementById('live-notice-matrix');
        
        if (GLOBAL_NOTICE_CACHE.length === 0) {
            board.innerHTML = "<p style='text-align:center; font-size:12px;'>No active announcements at this moment.</p>";
            return;
        }

        let noticeHTML = "";
        for (let i = 0; i < GLOBAL_NOTICE_CACHE.length; i++) {
            const n = GLOBAL_NOTICE_CACHE[i];
            noticeHTML += `
                <div style="padding:12px 0; border-bottom:1px dashed #ffa62b;">
                    <small style="color:var(--accent-gold); font-weight:800; display:block; font-size:9px;">${n.timestamp}</small>
                    <p style="font-size:12px; font-weight:600; color:var(--primary-navy); margin-top:3px;">${n.message}</p>
                </div>
            `;
        }
        board.innerHTML = noticeHTML;
    }

    /**
     * Student Portal Authentication & Dashboard
     */
    function executePortalLogin() {
        const u = document.getElementById('portal_user').value.toLowerCase().trim();
        const p = document.getElementById('portal_pass').value.toUpperCase().trim();

        if (u === "" || p === "") {
            alert("Please provide valid login credentials.");
            return;
        }

        const cadet = GLOBAL_STUDENT_CACHE.find(s => s.name.toLowerCase() === u && s.id === p);

        if (cadet) {
            document.getElementById('parent-login-frame').style.display = 'none';
            const dash = document.getElementById('student-dashboard-frame');
            dash.style.display = 'block';
            
            const dueAmt = cadet.total_fees - cadet.paid_amount;
            
            dash.innerHTML = `
                <div class="mk-premium-card" style="text-align:center;">
                    <h2 style="font-family:Montserrat; font-size:22px; margin-bottom:5px;">${cadet.name}</h2>
                    <p style="color:var(--accent-gold); font-weight:800; font-size:13px;">ID: ${cadet.id}</p>
                    
                    <div class="portal-stat-matrix">
                        <div class="stat-pills paid">
                            <small style="font-weight:800; font-size:9px; text-transform:uppercase;">Fees Paid</small>
                            <h3 style="font-size:18px;">₹${cadet.paid_amount}</h3>
                        </div>
                        <div class="stat-pills due">
                            <small style="font-weight:800; font-size:9px; text-transform:uppercase;">Pending Due</small>
                            <h3 style="font-size:18px;">₹${dueAmt}</h3>
                        </div>
                    </div>

                    <div style="margin-top:20px; padding:15px; background:#f8fafc; border-radius:10px; font-size:11px;">
                        <p>Academic Status: <span style="color:var(--status-success); font-weight:900;">ACTIVE</span></p>
                        <p>Last Sync: ${new Date(cadet.last_sync).toLocaleString()}</p>
                    </div>

                    <button class="admin-action-btn" style="margin-top:20px; background-color:#64748b;" onclick="location.reload()">
                        Secure Logout
                    </button>
                </div>
            `;
        } else {
            alert("Login Failed: Record not found in MK 2026 database.");
        }
    }

    // BOOTSTRAP SYSTEM
    window.onload = function() {
        console.log("MK Group Portal v11.0 Initialized Successfully.");
        refreshLiveNoticeBoard();
    };

    /**
     * End of Source Code
     * Total Expanded Logic Blocks: Complete
     */
</script>

</body>
</html>
